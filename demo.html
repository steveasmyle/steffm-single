<!DOCTYPE html>
<html>
<head>
   <title>Mixcloud Player</title>
   <style>
      body {
         font-family: Arial, sans-serif;
         padding: 20px;
      }
      button {
         margin: 10px;
         padding: 5px;
      }
   </style>
</head>
<body>
   <h1>Mixcloud Player</h1>

   <iframe id="mixcloudWidget" width="100%" height="60" src="https://www.mixcloud.com/widget/iframe/?hide_cover=1&mini=1&feed=%2Frymixxx%2Fmy-pair-of-shoes-volume-87%2F" frameborder="0"></iframe>

   <button id="play">Play</button>
   <button id="track88">Switch to Volume 88</button>
   <button id="track89">Switch to Volume 89</button>

   <dl id="eventList">
   </dl>

   <script src="https://widget.mixcloud.com/media/js/widgetApi.js"></script>
   <script>
      var widget = Mixcloud.PlayerWidget(document.getElementById("mixcloudWidget"));
      var eventList = document.getElementById('eventList');

      widget.ready.then(function() {
         document.getElementById('play').addEventListener('click', function() {
            widget.play();
         });

         document.getElementById('track88').addEventListener('click', function() {
            widget.load("https://www.mixcloud.com/rymixxx/my-pair-of-shoes-volume-88/", true);
         });

         document.getElementById('track89').addEventListener('click', function() {
            widget.load("https://www.mixcloud.com/rymixxx/my-pair-of-shoes-volume-89/", true);
         });

         widget.events.progress(function(event) {
            addEvent('progress', event.progress);
         });

         widget.events.buffering(function(event) {
            addEvent('buffering', event.buffering);
         });

         widget.events.play(function() {
            addEvent('play', 'Playing');
         });

         widget.events.pause(function() {
            addEvent('pause', 'Paused');
         });

         widget.events.ended(function() {
            addEvent('ended', 'Ended');
         });

         widget.events.error(function() {
            addEvent('error', 'Error occurred');
         });
      });

      function addEvent(event, value) {
         var dt = document.createElement('dt');
         dt.innerText = event;
         eventList.appendChild(dt);

         var dd = document.createElement('dd');
         dd.innerText = value;
         eventList.appendChild(dd);
      }
   </script>
</body>
</html>
